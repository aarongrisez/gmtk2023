[gd_scene load_steps=13 format=2]

[ext_resource path="res://World/Background.tres" type="TileSet" id=1]
[ext_resource path="res://Objects/DeathTrigger/DeathTrigger.tscn" type="PackedScene" id=2]
[ext_resource path="res://Objects/DialogArea/Assets/Sign.png" type="Texture" id=3]
[ext_resource path="res://Player/Player.tscn" type="PackedScene" id=4]
[ext_resource path="res://Player/Cat.tscn" type="PackedScene" id=5]
[ext_resource path="res://World/AutoNav.gd" type="Script" id=6]
[ext_resource path="res://World/Foreground.tres" type="TileSet" id=8]
[ext_resource path="res://UI/Transition/Transition.tscn" type="PackedScene" id=10]
[ext_resource path="res://World/World.gd" type="Script" id=11]
[ext_resource path="res://UI/DialogBox/DialogBox.tscn" type="PackedScene" id=15]
[ext_resource path="res://Objects/DialogArea/DialogArea.tscn" type="PackedScene" id=16]

[sub_resource type="NavigationPolygon" id=1]
vertices = PoolVector2Array( 590, 286, 353, 285, 355, 212, 590, 239, 656, 285, 608, 287, 607, 239, 722, 301, 751, 301, 752, 355, 624, 355, 623, 306, 655, 304, 722, 288, 762, 138, 763, 288, 357, 138 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 4, 5, 6 ), PoolIntArray( 7, 8, 9, 10, 11, 12 ), PoolIntArray( 7, 12, 4, 13 ), PoolIntArray( 6, 14, 15, 13, 4 ), PoolIntArray( 3, 2, 16, 14, 6 ) ]
outlines = [ PoolVector2Array( 355, 212, 353, 285, 590, 286, 590, 239, 607, 239, 608, 287, 656, 285, 655, 304, 623, 306, 624, 355, 752, 355, 751, 301, 722, 301, 722, 288, 763, 288, 762, 138, 357, 138 ) ]

[node name="World" type="Node2D"]
script = ExtResource( 11 )

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ColorRect" type="ColorRect" parent="ParallaxBackground"]
anchor_right = 1.0
anchor_bottom = 1.0
color = Color( 0.631373, 0.956863, 1, 1 )
__meta__ = {
"_edit_lock_": true,
"_edit_use_anchors_": false
}

[node name="BackgroundMap" type="TileMap" parent="."]
tile_set = ExtResource( 1 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( 1179680, 2, 0, 1179681, 2, 0, 1179682, 2, 0 )
__meta__ = {
"_edit_lock_": true
}

[node name="WorldMap" type="TileMap" parent="."]
tile_set = ExtResource( 8 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( 589847, -1073741822, 0, 655383, -1073741822, 0, 720919, -1073741822, 0, 786455, -1073741822, 0, 851991, -1073741822, 0, 917527, -1073741822, 0, 917528, 0, 1, 917529, 0, 1, 917530, 0, 1, 917531, 0, 1, 917532, 0, 1, 917533, 0, 1, 917534, 0, 1, 983077, 2, 0, 1048613, 2, 0, 1114149, 2, 0, 1179670, 0, 1, 1179671, 0, 1, 1179672, 0, 1, 1179673, 0, 1, 1179674, 0, 1, 1179675, 0, 1, 1179676, 0, 1, 1179677, 0, 1, 1179678, 0, 1, 1179679, 0, 1, 1179680, 0, 1, 1179681, 0, 1, 1179682, 0, 1, 1179683, 0, 1, 1179684, 0, 1, 1179685, 0, 1, 1179686, 0, 1, 1179687, 0, 1, 1179688, 0, 1, 1179693, 0, 1, 1179694, 0, 1, 1179695, 0, 1, 1245223, -1073741822, 0, 1245230, -1073741822, 0, 1310759, -1073741822, 0, 1310766, -1073741822, 0, 1376295, -1073741822, 0, 1376302, -1073741822, 0, 1441831, -1073741822, 0, 1441832, 0, 1, 1441833, 0, 1, 1441834, 0, 1, 1441835, 0, 1, 1441836, 0, 1, 1441837, 0, 1, 1441838, -1073741822, 0 )
__meta__ = {
"_edit_lock_": true
}

[node name="Objects" type="Node2D" parent="."]
__meta__ = {
"_edit_lock_": true
}

[node name="Destination" parent="Objects" instance=ExtResource( 16 )]
position = Vector2( 689, 343 )

[node name="Sign" type="Sprite" parent="Objects/Destination"]
position = Vector2( 0, -4 )
texture = ExtResource( 3 )

[node name="DeathTrigger" parent="Objects" instance=ExtResource( 2 )]
position = Vector2( 512, 592 )
scale = Vector2( 512, 1 )

[node name="Player" parent="." instance=ExtResource( 4 )]
position = Vector2( 560, 280 )

[node name="UI" type="CanvasLayer" parent="."]

[node name="Cat" parent="UI" instance=ExtResource( 5 )]
position = Vector2( 78, 70 )
scale = Vector2( 8, 8 )

[node name="Label" parent="UI" instance=ExtResource( 15 )]
visible = false
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 16.0
margin_top = -112.0
margin_right = -16.0
margin_bottom = -16.0

[node name="Transition" parent="UI" instance=ExtResource( 10 )]
visible = false
start_closed = true

[node name="Navigation2D" type="Navigation2D" parent="."]
script = ExtResource( 6 )

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="Navigation2D"]
position = Vector2( 1, 1 )
navpoly = SubResource( 1 )

[node name="DEBUG_path_line" type="Line2D" parent="Navigation2D"]

[node name="DEBUG_next_step_marker" type="ColorRect" parent="Navigation2D"]
margin_right = 5.0
margin_bottom = 5.0
color = Color( 0, 0.0666667, 0.615686, 1 )

[node name="PathCalculationTimer" type="Timer" parent="."]
wait_time = 0.4
autostart = true

[connection signal="timeout" from="PathCalculationTimer" to="Navigation2D" method="_on_PathCalculationTimer_timeout"]
